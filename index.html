<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Medical & Wellness Tourism App</title>
<style>
    body { font-family: Arial; background:#f2f2f2; margin:0; padding:0; direction: rtl; }
    .page { width: 90%; max-width:500px; margin:40px auto; background:white; padding:20px; border-radius:12px; box-shadow:0 0 10px #aaa; display:none; }
    h2,h3{text-align:center;}
    button,input{width:100%;padding:10px;margin:10px 0;border-radius:8px;border:1px solid #aaa;font-size:16px;}
    button{background:#007BFF;color:white;cursor:pointer;}
    .backBtn{background:#555;}
    #langSelectBox{width:300px;margin:100px auto;text-align:center;}
</style>
</head>
<body>

<!-- اختيار اللغة -->
<div id="langSelectBox">
    <h3>Select Language / اختر اللغة</h3>
    <button onclick="setLang('en')">English</button>
    <button onclick="setLang('ar')">عربي</button>
</div>

<!-- صفحة تعيين كلمة السر لأول مرة -->
<div id="setupPage" class="page">
    <h3 id="setupTitle"></h3>
    <input id="newPass1" type="password" placeholder="">
    <input id="newPass2" type="password" placeholder="">
    <button onclick="setInitialPassword()" id="setupBtn"></button>
</div>

<!-- صفحة تسجيل الدخول -->
<div id="loginPage" class="page">
    <h3 id="loginTitle"></h3>
    <input id="loginPass" type="password" placeholder="">
    <button onclick="login()" id="loginBtn"></button>
</div>

<!-- لوحة التحكم -->
<div id="dashboardPage" class="page">
    <h2 id="dashTitle"></h2>

    <button onclick="openPage('hospPage')" id="hospBtn"></button>
    <button onclick="openPage('consultPage')" id="consultBtn"></button>
    <button onclick="openPage('fitnessPage')" id="fitnessBtn"></button>
    <button onclick="openPage('tourismPage')" id="tourismBtn"></button>

    <button onclick="showChangePass()" id="changeBtn"></button>
    <button onclick="logout()" style="background:#c00" id="logoutBtn"></button>
</div>

<!-- صفحة تغيير كلمة السر -->
<div id="changePassPage" class="page">
    <h3 id="changeTitle"></h3>
    <input id="oldPass" type="password" placeholder="">
    <input id="newPassA" type="password" placeholder="">
    <input id="newPassB" type="password" placeholder="">
    <button onclick="changePassword()" id="changeBtn2"></button>
    <button class="backBtn" onclick="openPage('dashboardPage')" id="backBtn"></button>
</div>

<!-- صفحات الأقسام -->
<div id="hospPage" class="page">
    <h2 id="hospTitle"></h2>
    <textarea style="width:100%;height:150px;border-radius:8px;" placeholder="" id="hospText"></textarea>
    <button class="backBtn" onclick="openPage('dashboardPage')" id="hospBackBtn"></button>
</div>

<div id="consultPage" class="page">
    <h2 id="consultTitle"></h2>
    <textarea style="width:100%;height:150px;border-radius:8px;" placeholder="" id="consultText"></textarea>
    <button class="backBtn" onclick="openPage('dashboardPage')" id="consultBackBtn"></button>
</div>

<div id="fitnessPage" class="page">
    <h2 id="fitnessTitle"></h2>
    <textarea style="width:100%;height:150px;border-radius:8px;" placeholder="" id="fitnessText"></textarea>
    <button class="backBtn" onclick="openPage('dashboardPage')" id="fitnessBackBtn"></button>
</div>

<div id="tourismPage" class="page">
    <h2 id="tourismTitle"></h2>
    <textarea style="width:100%;height:150px;border-radius:8px;" placeholder="" id="tourismText"></textarea>
    <button class="backBtn" onclick="openPage('dashboardPage')" id="tourismBackBtn"></button>
</div>

<script>
// =================== الترجمة ===================
const translations = {
    ar: {
        setupTitle: "تعيين كلمة السر لأول مرة",
        newPass1: "كلمة السر الجديدة",
        newPass2: "أعد كتابة كلمة السر",
        setupBtn: "حفظ الكلمة",
        loginTitle: "تسجيل الدخول",
        loginPass: "ادخل كلمة السر",
        loginBtn: "دخول",
        dashTitle: "لوحة التحكم",
        hospBtn: "حجوزات المستشفيات",
        consultBtn: "الاستشارات الطبية",
        fitnessBtn: "اللياقة البدنية",
        tourismBtn: "السياحة العلاجية",
        changeBtn: "تغيير كلمة السر",
        logoutBtn: "تسجيل خروج",
        changeTitle: "تغيير كلمة السر",
        oldPass: "كلمة السر الحالية",
        newPassA: "كلمة السر الجديدة",
        newPassB: "أعد كتابة الجديدة",
        changeBtn2: "تغيير",
        backBtn: "رجوع",
        hospTitle: "حجوزات المستشفيات",
        hospText: "اكتب تفاصيل الحجز هنا",
        hospBackBtn: "رجوع",
        consultTitle: "الاستشارات الطبية",
        consultText: "اكتب الاستشارة هنا",
        consultBackBtn: "رجوع",
        fitnessTitle: "اللياقة البدنية",
        fitnessText: "اكتب خطة التدريب هنا",
        fitnessBackBtn: "رجوع",
        tourismTitle: "السياحة العلاجية",
        tourismText: "تفاصيل الرحلة العلاجية",
        tourismBackBtn: "رجوع"
    },
    en: {
        setupTitle: "Set Master Password First Time",
        newPass1: "New Password",
        newPass2: "Repeat Password",
        setupBtn: "Save Password",
        loginTitle: "Login",
        loginPass: "Enter Password",
        loginBtn: "Login",
        dashTitle: "Dashboard",
        hospBtn: "Hospital Bookings",
        consultBtn: "Medical Consultations",
        fitnessBtn: "Fitness Plans",
        tourismBtn: "Medical Tourism",
        changeBtn: "Change Password",
        logoutBtn: "Logout",
        changeTitle: "Change Password",
        oldPass: "Current Password",
        newPassA: "New Password",
        newPassB: "Repeat Password",
        changeBtn2: "Change",
        backBtn: "Back",
        hospTitle: "Hospital Bookings",
        hospText: "Enter booking details here",
        hospBackBtn: "Back",
        consultTitle: "Medical Consultations",
        consultText: "Enter consultation here",
        consultBackBtn: "Back",
        fitnessTitle: "Fitness Plans",
        fitnessText: "Enter training plan here",
        fitnessBackBtn: "Back",
        tourismTitle: "Medical Tourism",
        tourismText: "Enter travel details here",
        tourismBackBtn: "Back"
    }
};

let currentLang = "ar";

// =================== اختيار اللغة ===================
function setLang(lang){
    currentLang = lang;
    document.getElementById('langSelectBox').style.display="none";
    loadTranslations();
    let pass = localStorage.getItem("master_pass");
    if(!pass) openPage("setupPage");
    else openPage("loginPage");
}

// =================== تطبيق الترجمات ===================
function loadTranslations(){
    const t = translations[currentLang];
    for(const key in t){
        if(document.getElementById(key)) {
            const el = document.getElementById(key);
            if(el.tagName=="INPUT") el.placeholder = t[key];
            else el.textContent = t[key];
        }
    }
}

// =================== الوظائف الأساسية ===================
function hideAll(){ document.querySelectorAll('.page').forEach(p=>p.style.display="none"); }
function openPage(id){ hideAll(); document.getElementById(id).style.display="block"; }

function setInitialPassword(){
    if(newPass1.value!==newPass2.value||newPass1.value.length<4) return;
    localStorage.setItem("master_pass", newPass1.value);
    localStorage.setItem("is_owner","yes");
    openPage("loginPage");
}

function login(){
    let saved = localStorage.getItem("master_pass");
    if(loginPass.value===saved) openPage("dashboardPage");
}

function logout(){ openPage("loginPage"); }
function showChangePass(){ openPage("changePassPage"); }

function changePassword(){
    let saved = localStorage.getItem("master_pass");
    if(oldPass.value!==saved) return;
    if(newPassA.value!==newPassB.value||newPassA.value.length<4) return;
    localStorage.setItem("master_pass",newPassA.value);
    openPage("dashboardPage");
}
</script>

</body>
</html>
